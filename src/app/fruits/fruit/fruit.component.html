<div class="container mt-5">
  <h2 class="text-center">Fruit CRUD App</h2>
  <div *ngIf="successMsg" class="alert alert-success">{{ successMsg }}</div>
  <form [formGroup]="fruitForm" (ngSubmit)="onSubmit()" class="mb-4">
    <div class="row g-3">
      <div class="col-md-3">
        <input formControlName="name" class="form-control" placeholder="Fruit Name" />
        <div *ngIf="fruitForm.get('name')?.invalid && fruitForm.get('name')?.touched" class="text-danger">Required</div>
      </div>

      <div class="col-md-3">
        <input formControlName="color" class="form-control" placeholder="Color" />
        <div *ngIf="fruitForm.get('color')?.invalid && fruitForm.get('color')?.touched" class="text-danger">Required</div>
      </div>

      <div class="col-md-3">
        <input formControlName="price" class="form-control" type="number" placeholder="Price" />
        <div *ngIf="fruitForm.get('price')?.invalid && fruitForm.get('price')?.touched" class="text-danger">Min ₹1</div>
      </div>

      <div class="col-md-3">
        <button class="btn btn-success w-100" type="submit">
          {{ isEditMode ? 'Update' : 'Add' }}
        </button>
      </div>
    </div>
  </form>

  <table class="table table-striped table-bordered text-center">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Color</th>
        <th>Price (₹)</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let fruit of fruits">
        <td>{{ fruit.id }}</td>
        <td>{{ fruit.name }}</td>
        <td>{{ fruit.color }}</td>
        <td>{{ fruit.price }}</td>
        <td>
          <button class="btn btn-primary btn-sm me-2" (click)="editFruit(fruit)">Edit</button>
          <button class="btn btn-danger btn-sm" (click)="deleteFruit(fruit.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
